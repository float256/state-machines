Minimized state machine:
Q: 1 2 5
X: a1 a2 a3
Y: 0 1
1: 2|0 4|1 4|1
2: 1|1 1|0 5|0
5: 6|1 4|1 3|0

Groups:
[[1, 4, 6, 9], [2, 3, 8], [5, 7]]